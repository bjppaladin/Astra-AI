IMPORTANT: This adds new settings and modifies ONLY the report generation
output layer. It does NOT change any existing UI views, scoring, or analysis.
If report generation doesn't exist yet, create the branding system anyway â€”
it will be consumed when reports are built.

Read the entire prompt before making changes.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 1 â€” Database: Organization Branding Table
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Create a NEW migration:

CREATE TABLE organization_branding (
  id SERIAL PRIMARY KEY,
  tenant_id INTEGER NOT NULL UNIQUE,
  
  -- Branding fields
  company_name VARCHAR(255),
  logo_url TEXT,                    -- path to uploaded logo
  logo_width_px INTEGER DEFAULT 200,
  primary_color VARCHAR(7) DEFAULT '#1a56db',   -- hex color
  secondary_color VARCHAR(7) DEFAULT '#6b7280',
  accent_color VARCHAR(7) DEFAULT '#059669',
  
  -- Report customization
  report_header_text VARCHAR(255),    -- e.g. "IT Due Diligence Assessment"
  report_footer_text VARCHAR(255),    -- e.g. "Prepared by Acme Consulting"
  confidentiality_notice TEXT DEFAULT 'CONFIDENTIAL â€” For intended recipients only.',
  
  -- Contact info for report cover page
  contact_name VARCHAR(255),
  contact_email VARCHAR(255),
  contact_phone VARCHAR(50),
  website VARCHAR(255),
  
  -- Feature flags
  show_meridian_badge BOOLEAN DEFAULT TRUE,  -- "Powered by MERIDIAN" badge
  custom_cover_page BOOLEAN DEFAULT FALSE,
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 2 â€” Logo Upload Endpoint
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Create POST /api/settings/branding/logo
  - Accepts image file upload (PNG, JPG, SVG)
  - Max 2MB
  - Store in your file storage (local filesystem or whatever the app uses)
  - Save the path to organization_branding.logo_url
  - Return the URL

Create GET /api/settings/branding
  - Returns the full branding object for the current tenant

Create PUT /api/settings/branding
  - Updates branding fields (all fields from the table except id/tenant_id)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 3 â€” Branding Settings Page
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Add a new section to the existing Organization Settings page (or create
one if it doesn't exist) under a "Report Branding" tab/section.

LAYOUT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Report Branding                                               â”‚
â”‚                                                                â”‚
â”‚  Company Logo                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  â”‚
â”‚  â”‚  [logo]  â”‚  [Upload New Logo]  Max 2MB, PNG/JPG/SVG        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                  â”‚
â”‚  Logo width: [200] px                                          â”‚
â”‚                                                                â”‚
â”‚  Company Name:    [_________________________]                  â”‚
â”‚  Primary Color:   [#1a56db] ğŸ¨                                â”‚
â”‚  Secondary Color: [#6b7280] ğŸ¨                                â”‚
â”‚  Accent Color:    [#059669] ğŸ¨                                â”‚
â”‚                                                                â”‚
â”‚  Report Header:   [IT Due Diligence Assessment_____]           â”‚
â”‚  Report Footer:   [Prepared by Your Company________]           â”‚
â”‚  Confidentiality: [CONFIDENTIAL â€” For intended...]             â”‚
â”‚                                                                â”‚
â”‚  Contact Information (shown on cover page)                     â”‚
â”‚  Name:  [_________]  Email: [___________]                      â”‚
â”‚  Phone: [_________]  Web:   [___________]                      â”‚
â”‚                                                                â”‚
â”‚  â˜‘ Show "Powered by MERIDIAN" badge on reports                â”‚
â”‚                                                                â”‚
â”‚  â”€â”€ Live Preview â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚  [LOGO]                             â”‚                      â”‚
â”‚  â”‚  IT Due Diligence Assessment        â”‚                      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚                      â”‚
â”‚  â”‚  Deal Name: Sample Deal             â”‚                      â”‚
â”‚  â”‚  Prepared for: Client Name          â”‚                      â”‚
â”‚  â”‚  Date: Feb 26, 2026                 â”‚                      â”‚
â”‚  â”‚                                     â”‚                      â”‚
â”‚  â”‚  Prepared by Your Company           â”‚                      â”‚
â”‚  â”‚  contact@example.com                â”‚                      â”‚
â”‚  â”‚               Powered by MERIDIAN   â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                â”‚
â”‚  [Save Branding Settings]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

The live preview updates in real time as fields are changed.
Color pickers should be proper color picker inputs (type="color").

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
STEP 4 â€” Branding Integration Helper
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Create a utility function: getBrandingForReport(tenantId)

This function:
1. Queries organization_branding for the tenant
2. Returns a branding object with all values, using defaults for any
   missing fields
3. If no branding record exists, returns MERIDIAN defaults:
   - company_name: "MERIDIAN"
   - logo: MERIDIAN logo (create a simple SVG or use text)
   - primary_color: "#1a56db"
   - report_header: "IT Due Diligence Assessment"
   - etc.

This function will be called by the report generation code (existing or
future) to inject branding into PDF/DOCX headers, footers, and cover pages.

Export this function from a shared location so report generators can import it.

DO NOT modify any existing views, routes, or components beyond adding the
new settings section.